(this["webpackJsonphomework-6"]=this["webpackJsonphomework-6"]||[]).push([[0],{141:function(e,t,a){e.exports=a(275)},168:function(e,t,a){},178:function(e,t){},180:function(e,t){},217:function(e,t){},218:function(e,t){},274:function(e,t,a){},275:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(22),s=a.n(o),i=a(19),l=a(4),c=a(73),d=a.n(c),u=a(13),m=a(127),f=a(7),b=a(128),p=a.n(b),g=function(e){var t=e.type,a=e.color,r=e.delay,o=e.height,s=e.width;return n.a.createElement(p.a,{type:t,color:a,delay:r,height:o,width:s})},k=a(2),h=(a(168),function(e){var t=e.boardOrderChange,a=e.order;return n.a.createElement(k.h,{label:"Enter Board Order",name:"board_order",type:"text",value:a,onChange:t})}),E=function(e){var t=e.error;return n.a.createElement(k.f,null,n.a.createElement(k.b,{color:"danger"},t))},O=(a(40),function(e){return e.some((function(e){return" "===e||""===e||null==e}))}),y=function(e){var t=e.newBoardPlaceOrder,a=e.boardsSchema,r=isNaN(t)||0===t?1:t;return n.a.createElement("div",{className:"schema-container"},n.a.createElement("i",{style:{color:"red",order:r,marginRight:7},className:"fas fa-level-down-alt fa-3x"}),a.map((function(e,t){return t+1<r?n.a.createElement("div",{style:{order:t+1},key:t,className:"block-element"},t+1):n.a.createElement("div",{style:{order:t+2},key:t,className:"block-element"},t+1)})))},v=function(e){var t=e.boardsSchema,a=e.setBoardOrderState,o=e.insertBoard,s=e.validateInput,c=e.boards,d=e.errors,u=d.boardOrderError,m=d.boardTitleError,b=Object(r.useState)(!1),p=Object(f.a)(b,2),g=p[0],v=p[1],j=Object(r.useState)(""),T=Object(f.a)(j,2),N=T[0],S=T[1],w=Object(r.useState)(0),_=Object(f.a)(w,2),C=_[0],B=_[1],x=Object(r.useState)({}),I=Object(f.a)(x,2),F=I[0],A=I[1],L=Object(r.useState)(1),P=Object(f.a)(L,2),M=P[0],D=P[1],q=Object(i.d)(),J=Object(r.useCallback)(o,[]);Object(r.useEffect)((function(){J(F)}),[J,F]);var z=function(){S(""),B(1),v(!g),D(1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(k.c,{className:"start-modal-button",onClick:z},"INSERT BOARD"),n.a.createElement(k.j,{isOpen:g,toggle:z},n.a.createElement(k.m,{toggle:z},"Board Insertion"),n.a.createElement(k.k,null,n.a.createElement("div",{className:"form-group"},n.a.createElement(k.h,{label:"Enter Board Title",name:"board_title",type:"text",value:N,onChange:function(e){var t=e.target,a=t.value,r=t.name;s(a,r),S(e.target.value)},size:"md"}),m.errors&&n.a.createElement(E,{error:m.errors}),n.a.createElement(y,{newBoardPlaceOrder:+M,boardsSchema:t}),n.a.createElement(h,{order:C,boardOrderChange:function(e){var t=e.target,a=t.value,r=t.name;s(a,r),B(a),D(a)}}),u.errors&&n.a.createElement(E,{error:u.errors}))),n.a.createElement(k.l,null,n.a.createElement(k.c,{className:"row",color:"secondary",onClick:z},"Close"),n.a.createElement(k.c,{disabled:u.inputStatus||m.inputStatus,className:"row",color:"primary",onClick:function(){O([N])?q.error(n.a.createElement("div",{style:{color:"red",fontSize:15}},"Please, Fill Blank Fields..."),{timeout:5e3,onOpen:function(){console.log("hey")},onClose:function(){console.log("closed")}}):(A(Object(l.a)({},F,{title:N,order:C})),v(!g),D(1),a(c.map((function(e){return{id:e.id,order:e.order,name:e.name}}))))}},"Insert Board"))))},j=a(31),T=function(e){var t=e.userLoginAuth,a=e.handleToggleModal,o=Object(r.useState)({email:"",password:""}),s=Object(f.a)(o,2),i=s[0],c=s[1],d=function(e){var t=e.target,a=t.name,r=t.value;c(Object(l.a)({},i,Object(j.a)({},a,r)))};return n.a.createElement(k.f,null,n.a.createElement(k.q,{center:!0},n.a.createElement(k.e,{md:"6"},n.a.createElement("div",null,n.a.createElement("h3",{className:"h4 text-center mb-4"},"SIGN IN"),n.a.createElement("label",{htmlFor:"defaultFormLoginEmailEx",className:"grey-text"},"Your email"),n.a.createElement("input",{type:"email",id:"defaultFormLoginEmailEx",name:"email",className:"form-control",value:i.email,onChange:d}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"defaultFormLoginPasswordEx",className:"grey-text"},"Your password"),n.a.createElement("input",{type:"password",id:"defaultFormLoginPasswordEx",name:"password",className:"form-control",value:i.password,onChange:d}),n.a.createElement("div",{className:"text-center mt-4"},n.a.createElement(k.c,{onClick:function(){t({email:i.email,password:i.password}),a()},color:"indigo",type:"submit"},"LOGIN"))))))},N=function(e){var t=e.userLoginAuth,a=Object(r.useState)(!1),o=Object(f.a)(a,2),s=o[0],i=o[1],l=function(){return i(!s)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(k.c,{className:"login-modal-button",onClick:l},"LOGIN"),n.a.createElement(k.j,{isOpen:s,toggle:l},n.a.createElement(k.m,{toggle:l},"Login Form"),n.a.createElement(k.k,null,n.a.createElement(T,{userLoginAuth:t,handleToggleModal:l}))))},S=function(e){var t=e.task,a=t.board,r=t.id,o=t.location,s=t.task_title,i=t.priority_level,l=t.task_priority,c=e.login,d=e.boardOrder,u=e.handleFindForEditTaskModal,m=e.boardLength,f=e.moveTask,b=e.deleteTask,p=e.hideTask,g=l?"true":"false";return n.a.createElement(k.d,{size:"sm",className:"mb-4"},n.a.createElement(k.c,{disabled:0===d,className:"task-button",color:"white"},n.a.createElement("span",{id:r,onClick:f,direction:"left",location:o,priority_level:i,task_priority:g,order:d,name:"left-".concat(a),className:"fa fa-angle-double-left","aria-hidden":"true"})),n.a.createElement(k.c,{className:"task-button",color:"white"},n.a.createElement("span",{id:r,name:a,location:o,priority_level:i,onClick:p,className:"hide fas fa-eye-slash","aria-hidden":"true"})),"kanban_board"===o?n.a.createElement(n.a.Fragment,null,n.a.createElement(k.c,{disabled:!c,className:"task-button",color:"white"},n.a.createElement("span",{id:r,name:a,title:s,onClick:u,className:"edit fas fa-edit","aria-hidden":"true"})),n.a.createElement(k.c,{disabled:!c,className:"task-button",color:"white"},n.a.createElement("span",{id:r,name:a,title:s,onClick:b,className:"delete fas fa-trash-alt","aria-hidden":"true"}))):null,n.a.createElement(k.c,{className:"task-button",disabled:d===m-1,color:"white"},n.a.createElement("span",{id:r,onClick:f,direction:"right",location:o,priority_level:i,task_priority:g,order:d,name:"right-".concat(a),className:"fa fa-angle-double-right","aria-hidden":"true"})))},w=function(e){var t=e.task,a=e.index,o=e.listLength,s=e.login,i=e.boardLength,l=e.swapTasks,c=e.handleFindForEditTaskModal,d=e.boardOrder,u=e.id,m=e.moveTask,b=e.editTask,p=e.deleteTask,g=e.hideTask,h=Object(r.useState)(!1),E=Object(f.a)(h,2),O=E[0],y=E[1],v=function(){return n.a.createElement(k.f,null,n.a.createElement(k.j,{isOpen:O,toggle:j,size:"fluid"},n.a.createElement(k.m,{toggle:j},t.task_title),n.a.createElement(k.k,null,t.task_description),n.a.createElement(k.l,null,n.a.createElement(k.c,{color:"secondary",onClick:j},"Close"))))},j=function(){return y(!O)};return n.a.createElement(k.f,{draggable:"true",name:t.board,id:u,onDragStart:function(e){var t=e.target;e.dataTransfer.setData("task",t.id)},onDragOver:function(e){e.stopPropagation()},className:"d-flex flex-column task-card"},n.a.createElement(k.c,{disabled:0===a,name:"up",color:"white",priority_level:t.priority_level,location:t.location,board:t.board,id:u,className:"up-button",onClick:l},"Up"),n.a.createElement(k.q,null,n.a.createElement(k.e,{size:"8",style:{display:"flex",justifyContent:"flex-start"}},n.a.createElement("h6",{className:"task-title"},t.task_title)),t.task_priority&&n.a.createElement(k.e,{style:{display:"flex",justifyContent:"flex-end"},className:"priority"},n.a.createElement("i",{className:"fas fa-exclamation-triangle fa-2x"}))),n.a.createElement("span",{className:"p-2 col-example text-left task-details",id:u,onMouseOver:function(e){var t=e.target.id;t&&null!==document.getElementById(t).querySelector(".task-details")&&(document.getElementById(t).querySelector(".task-details").innerHTML="Click Here...")},onMouseLeave:function(e){var t=e.target.id;t&&null!==document.getElementById(t).querySelector(".task-details")&&(document.getElementById(t).querySelector(".task-details").innerHTML="Details...")},onClick:j},n.a.createElement("i",null,"Details...")),n.a.createElement(v,null),n.a.createElement(S,{boardLength:i,boardOrder:d,moveTask:m,login:s,location:t.location,editTask:b,deleteTask:p,hideTask:g,task:t,handleFindForEditTaskModal:c}),n.a.createElement(k.c,{disabled:a===o-1,name:"down",priority_level:t.priority_level,location:t.location,board:t.board,id:u,color:"white",className:"down-button",onClick:l},"Down"))},_=function(e){var t=e.handleDelegateNameChange,a=e.fullname;return n.a.createElement(k.i,{style:{marginBottom:10},prepend:"Delegated to: ",inputs:n.a.createElement(n.a.Fragment,null,n.a.createElement(k.h,{noTag:!0,name:"first",value:a.first,onChange:function(e){return t(e.target.getAttribute("name"),e.target.value)},type:"text"}),n.a.createElement(k.h,{noTag:!0,name:"last",value:a.last,onChange:function(e){return t(e.target.getAttribute("name"),e.target.value)},type:"text"}))})},C=function(e){var t=e.description,a=e.descriptionInputChange;return n.a.createElement(k.f,{className:"task-description"},n.a.createElement(k.h,{value:t,name:"task_description",onChange:a,type:"textarea",label:"Task Description",outline:!0}))},B=a(134),x=a(135),I=a(49),F=a(138),A=a(139),L=a(136),P=a.n(L),M=function(e){Object(A.a)(a,e);var t=Object(F.a)(a);function a(e){var r;return Object(B.a)(this,a),(r=t.call(this,e)).state={checked:!1},r.handleChange=r.handleChange.bind(Object(I.a)(r)),r}return Object(x.a)(a,[{key:"handleChange",value:function(e){this.setState({checked:e}),this.props.switchPriority(e)}},{key:"render",value:function(){return n.a.createElement("label",null,n.a.createElement(k.q,null,n.a.createElement(k.e,{md:"2"},n.a.createElement(P.a,{onChange:this.handleChange,checked:this.state.checked})),n.a.createElement(k.e,{md:"10"},n.a.createElement("span",{style:{marginLeft:15,fontSize:20}},"Please, select if this task is priority"))))}}]),a}(r.Component),D=function(e){var t=e.createTask,a=e.resetErrors,o=e.board_name,s=e.validateInput,c=e.errors,d=c.taskTitleError,u=c.taskDescriptionError,m=c.firstNameError,b=c.lastNameError,p=Object(r.useState)(!1),g=Object(f.a)(p,2),h=g[0],y=g[1],v=Object(r.useState)(""),j=Object(f.a)(v,2),T=j[0],N=j[1],S=Object(r.useState)(""),w=Object(f.a)(S,2),B=w[0],x=w[1],I=Object(r.useState)(!1),F=Object(f.a)(I,2),A=F[0],L=F[1],P=Object(r.useState)({first:"",last:""}),D=Object(f.a)(P,2),q=D[0],J=D[1],z=Object(r.useState)({}),H=Object(f.a)(z,2),K=H[0],R=H[1],Y=Object(i.d)(),G=Object(r.useCallback)(t,[]);Object(r.useEffect)((function(){G(K)}),[G,K]);var V=function(){N(""),x(""),J({first:"",last:""}),y(!h),a()};return n.a.createElement(n.a.Fragment,null,n.a.createElement(k.f,null,n.a.createElement(k.q,null,n.a.createElement(k.c,{className:"addTask",onClick:V},n.a.createElement("i",{className:"fas fa-plus fa-2x"})))),n.a.createElement(k.j,{style:{zIndex:1},isOpen:h,toggle:V},n.a.createElement(k.m,{toggle:V},"Task Form"),n.a.createElement(k.k,null,n.a.createElement(k.h,{label:"Enter Task Title",name:"task_title",type:"text",value:T,onChange:function(e){var t=e.target,a=t.value,r=t.name;s(a,r),N(a)},size:"md"}),d.errors&&n.a.createElement(E,{error:d.errors}),n.a.createElement(C,{id:"textArea",description:B,descriptionInputChange:function(e){var t=e.target,a=t.value,r=t.name;s(a,r),x(a)}}),u.errors&&n.a.createElement(E,{error:u.errors}),n.a.createElement(M,{switchPriority:function(e){L(e)}}),n.a.createElement(_,{fullname:q,handleDelegateNameChange:function(e,t){"first"===e&&(s(t,e),J(Object(l.a)({},q,{first:t}))),"last"===e&&(s(t,e),J(Object(l.a)({},q,{last:t})))}}),m.errors&&n.a.createElement(E,{error:m.errors}),b.errors&&n.a.createElement(E,{error:b.errors})),n.a.createElement(k.l,null,n.a.createElement(k.c,{className:"row",color:"secondary",onClick:V},"Close"),n.a.createElement(k.c,{disabled:d.inputStatus||u.inputStatus||m.inputStatus||b.inputStatus,className:"row",board_name:o,color:"primary",onClick:function(){O([T,B,q.first,q.last])?Y.error(n.a.createElement("div",{style:{color:"red",fontSize:15}},"Please, Fill Blank Fields..."),{timeout:5e3,onOpen:function(){console.log("hey")},onClose:function(){console.log("closed")}}):(R(Object(l.a)({},K,{task_title:T,board_name:o,location:"kanban_board",task_description:B,task_priority:A,first:q.first,last:q.last})),y(!h),L(!1))}},"Create Task"))))},q=function(e){var t=e.setBoardOrderState,a=e.addBoard,o=e.validateInput,s=e.boards,c=e.errors,d=c.boardOrderError,u=c.boardTitleError,m=Object(r.useState)(!1),b=Object(f.a)(m,2),p=b[0],g=b[1],h=Object(r.useState)(""),y=Object(f.a)(h,2),v=y[0],j=y[1],T=Object(r.useState)({}),N=Object(f.a)(T,2),S=N[0],w=N[1],_=Object(i.d)(),C=Object(r.useCallback)(a,[]);Object(r.useEffect)((function(){C(S)}),[C,S]);var B=function(){j(""),g(!p)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(k.f,null,n.a.createElement(k.q,null,n.a.createElement(k.c,{className:"addBoard",onClick:B},n.a.createElement("i",{className:"fas fa-plus fa-2x"})))),n.a.createElement(k.j,{isOpen:p,toggle:B},n.a.createElement(k.m,{toggle:B},"Add Board"),n.a.createElement(k.k,null,n.a.createElement("div",{className:"form-group"},n.a.createElement(k.h,{label:"Enter Board Title",name:"board_title",type:"text",value:v,onChange:function(e){var t=e.target,a=t.value,r=t.name;o(a,r),j(e.target.value)},size:"md"}),u.errors&&n.a.createElement(E,{error:u.errors}))),n.a.createElement(k.l,null,n.a.createElement(k.c,{className:"row",color:"secondary",onClick:B},"Close"),n.a.createElement(k.c,{disabled:d.inputStatus||u.inputStatus,className:"row",color:"primary",onClick:function(){O([v])?_.error(n.a.createElement("div",{style:{color:"red",fontSize:15}},"Please, Fill Blank Fields..."),{timeout:5e3,onOpen:function(){console.log("hey")},onClose:function(){console.log("closed")}}):(w(Object(l.a)({},S,{title:v,order:s.length})),g(!p),t(s.map((function(e){return{id:e.id,order:e.order,name:e.name}}))))}},"Add Board"))))},J=function(e){var t=e.boards,a=e.moveTask,r=e.deleteTask,o=e.hideTask,s=e.createTask,i=e.userLogin,l=e.boardsSchema,c=e.resetErrors,d=e.editTask,u=e.swapKanbanTasks,m=e.validateInput,f=(e.insertBoard,e.addBoard),b=e.showTask,p=e.dragTask,g=e.errors,h=e.deleteBoard,E=e.boardMessage,O=e.handleFindForEditTaskModal,y=e.setBoardOrderState,v=function(e){e.preventDefault();var a=e.dataTransfer.getData("task"),r=document.getElementById(a);y(t.map((function(e){return{id:e.id,order:e.order,name:e.name,title:e.title,tasks:e.tasks.map((function(e){return{id:e.id,visibility:!0,task_title:e.task_title,location:e.location,task_description:e.task_description,task_priority:e.task_priority,board:e.board,first:e.first,last:e.last}}))}}))),p(e.target.getAttribute("name"),r.getAttribute("name"),a)},j=function(e){e.preventDefault()},T=function(e){y(t.map((function(e){return{id:e.id,order:e.order,name:e.name}}))),h(e)};return n.a.createElement(k.f,{className:"dashboard container-fluid"},n.a.createElement(k.q,{className:"kanban-row"},t.map((function(e){return n.a.createElement(k.e,{key:e.id,onDrop:v,name:e.name,onDragOver:j,className:"kanban-col",md:"3"},n.a.createElement("div",{className:"board-header container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-10"},n.a.createElement("div",{className:"row"},n.a.createElement("span",{className:"task-list-title col-9"},e.title),n.a.createElement("span",{className:"task-quantity col-2"},e.tasks.length))),i?n.a.createElement("div",{className:"col-2"},n.a.createElement("i",{id:e.id,onClick:T,className:"far fa-calendar-times fa-3x"})):n.a.createElement("div",{className:"col-2"},n.a.createElement("i",{id:e.id,className:"far fa-calendar-times fa-3x"})))),(l=e.tasks,f=e.order,p=i,h=t.length,l.length?l.map((function(e,t){return e.visibility?n.a.createElement(w,{boardLength:h,boardOrder:f,moveTask:a,deleteTask:r,hideTask:o,editTask:d,listLength:l.length,swapTasks:u,login:p,key:t,index:t,id:e.id,task:e,handleFindForEditTaskModal:O}):n.a.createElement("p",{className:"show",key:e.id},"Hidden Task... ",n.a.createElement("span",{id:e.id,location:e.location,name:e.board,autoFocus:!0,onClick:b,className:"show"},"SHOW"))})):n.a.createElement("p",{style:{color:"white",textAlign:"center"}},n.a.createElement("i",null,E))),i?n.a.createElement(D,{errors:g,board_name:e.name,validateInput:m,createTask:s,resetErrors:c}):n.a.createElement(k.f,null,n.a.createElement(k.q,null,n.a.createElement(k.c,{className:"addTask"},n.a.createElement("i",{className:"fas fa-plus fa-2x"})))));var l,f,p,h})),i?n.a.createElement(k.e,{md:"3",className:"btn-col"},n.a.createElement(q,{errors:g,boards:t,boardsSchema:l,validateInput:m,addBoard:f,deleteBoard:h,resetErrors:c,setBoardOrderState:y})):n.a.createElement(k.e,{md:"3",className:"btn-col"},n.a.createElement(k.c,{className:"addBoard"},n.a.createElement("i",{className:"fas fa-plus fa-2x"})))))},z=function(e){var t=e.priorityTasks,a=e.moveTask,r=e.deleteTask,o=e.hideTask,s=e.editTask,i=e.swapPriorityTasks,l=e.showTask,c=e.boardMessage,d=e.handleFindForEditTaskModal;return n.a.createElement(k.f,{className:"dashboard container-fluid"},n.a.createElement(k.q,{className:"kanban-row"},t.map((function(e,u){return n.a.createElement(k.e,{key:u,name:e.priority_level,className:"kanban-col",md:"6"},n.a.createElement("div",{className:"board-header container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"row"},n.a.createElement("span",{className:"task-list-title col-10"},e.priority_level.toUpperCase()," Priority List"),n.a.createElement("span",{className:"task-quantity col-1"},e.tasks.length))))),function(e,t,u){return e.length?e.map((function(c,m){return c.visibility?n.a.createElement(w,{boardLength:u,boardOrder:t,moveTask:a,deleteTask:r,hideTask:o,editTask:s,listLength:e.length,swapTasks:i,key:m,index:m,id:c.id,task:c,handleFindForEditTaskModal:d}):n.a.createElement("p",{className:"show",key:c.id},"Hidden Task... ",n.a.createElement("span",{id:c.id,priority_level:c.priority_level,name:c.board,autoFocus:!0,onClick:l,className:"show"},"SHOW"))})):n.a.createElement("p",{style:{color:"white",textAlign:"center"}},n.a.createElement("i",null,c))}(e.tasks,e.order,t.length))}))))},H=function(e){var t=e.handleToggleEditTaskModal,a=e.errors,o=a.taskTitleError,s=a.taskDescriptionError,i=a.firstNameError,c=a.lastNameError,d=e.modalButtonClick,u=e.validateInput,m=e.submitNewTaskItems,b=e.searchEditTask,p=Object(r.useState)({task_title:"",task_description:"",task_priority:!1,first:"",last:""}),g=Object(f.a)(p,2),h=g[0],O=g[1],y=Object(r.useState)(!0),v=Object(f.a)(y,2),T=v[0],N=v[1],S=Object(r.useState)(!1),w=Object(f.a)(S,2),_=w[0],C=w[1],B=function(e){_||C(!0),"task_priority"===e.target.name?(N(!T),O(Object(l.a)({},h,{id:b.id,board:b.board,task_priority:e.target.checked}))):O(Object(l.a)({},h,Object(j.a)({id:b.id,board:b.board},e.target.name,e.target.value))),u(e.target.value,e.target.name)};return n.a.createElement(k.f,null,n.a.createElement(k.j,{isOpen:d,toggle:t},n.a.createElement(k.m,{toggle:t},"Task Edit Form"),n.a.createElement(k.k,null,n.a.createElement(k.h,{type:"text",name:"task_title",label:"Edit Task Title",value:h.title,onChange:B}),o.errors&&n.a.createElement(E,{error:o.errors}),n.a.createElement(k.f,{className:"task-description"},n.a.createElement(k.h,{value:h.description,name:"task_description",onChange:B,type:"textarea",label:"Task Description",outline:!0})),s.errors&&n.a.createElement(E,{error:s.errors}),n.a.createElement("div",{className:"custom-control custom-checkbox"},n.a.createElement("input",{name:"task_priority",checked:T,type:"checkbox",onChange:B,className:"custom-control-input",id:"priority_task"}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"priority_task"},"This is Priority Task")),n.a.createElement(k.h,{type:"text",name:"first",label:"Edit Delegate First Name",value:h.first_name,onChange:B}),i.errors&&n.a.createElement(E,{error:i.errors}),n.a.createElement(k.h,{type:"text",name:"last",label:"Edit Delegate Last Name",value:h.last_name,onChange:B}),c.errors&&n.a.createElement(E,{error:c.errors})),n.a.createElement(k.l,null,n.a.createElement(k.c,{color:"secondary",onClick:t},"Close"),n.a.createElement(k.c,{disabled:!_||o.inputStatus||s.inputStatus||i.inputStatus||c.inputStatus,color:"primary",onClick:function(){m(h),t()}},"Save changes"))))},K=function(e){var t=e.serverNote,a=e.resetServerNotes;return n.a.createElement(k.n,{autohide:8e3,onClick:function(){return a()},bodyClassName:"p-5 font-weight-bold white-text",className:"stylish-color-dark",closeClassName:"blue-grey-text",fade:!0,icon:"bell",iconClassName:"blue-grey-text",message:t,show:!0,title:"Server Notification",titleClassName:"elegant-color-dark white-text"})},R=function(e){var t={boards:e.boards,loading:e.loading,serverNote:e.serverNote,boardMessage:e.boardMessage,errors:e.errors,userLogin:e.userLogin,boardsSchema:e.boardsSchema,priorityTasks:e.priorityTasks,searchEditTask:e.searchEditTask,modalButtonClick:e.modalButtonClick,panelControlButtons:e.panelControlButtons},a={insertBoard:e.insertBoard,addBoard:e.addBoard,createTask:e.createTask,resetServerNotes:e.resetServerNotes,swapKanbanTasks:e.swapTasks.swapKanbanTasks,swapPriorityTasks:e.swapTasks.swapPriorityTasks,moveTask:e.moveTask,deleteTask:e.deleteTask,deleteBoard:e.deleteBoard,userLoginAuth:e.userLoginAuth,filterPriorityTasks:e.filterPriorityTasks,hideTask:e.hideTask,showTask:e.showTask,dragTask:e.dragTask,submitNewTaskItems:e.submitNewTaskItems,validateInput:e.validateInput,resetErrors:e.resetErrors,toggleEditModal:e.toggleEditModal,findTaskForEdit:e.findTaskForEdit,resetMainKanbanView:e.resetMainKanbanView,setBoardOrderState:e.setBoardOrderState};return t.loading?n.a.createElement(k.f,null,n.a.createElement(k.q,{className:"kanban-header"},n.a.createElement("h1",null,"Kanban Board")),n.a.createElement(k.q,{center:!0,style:{marginTop:250}},n.a.createElement(g,{type:"spin",color:"grey",height:"10%",width:"10%",delay:0})),n.a.createElement(k.q,{center:!0,style:{marginTop:45}},n.a.createElement("h2",null,"Retrieving data from database... Please, wait"))):n.a.createElement("div",null,n.a.createElement(k.f,null,n.a.createElement(k.q,{className:"kanban-header"},n.a.createElement("h1",null,"Kanban Board"))),n.a.createElement(H,{errors:t.errors,validateInput:a.validateInput,modalButtonClick:t.modalButtonClick,handleToggleEditTaskModal:a.toggleEditModal,boards:t.boards,findTaskForEdit:t.findTaskForEdit,searchEditTask:t.searchEditTask,submitNewTaskItems:a.submitNewTaskItems}),n.a.createElement(k.f,{className:"main-control-panel"},t.userLogin&&n.a.createElement(k.q,null,n.a.createElement(k.e,null,n.a.createElement(v,{errors:t.errors,boards:t.boards,boardsSchema:t.boardsSchema,validateInput:a.validateInput,insertBoard:a.insertBoard,deleteBoard:a.deleteBoard,resetErrors:a.resetErrors,setBoardOrderState:a.setBoardOrderState})),n.a.createElement(k.e,null,n.a.createElement(k.c,{href:"https://github.com/likejean/homework-6/issues",className:"report-issues-button"},"Report Issues"))),n.a.createElement(k.q,null,n.a.createElement(k.e,null,n.a.createElement(N,{userLoginAuth:a.userLoginAuth})),n.a.createElement(k.e,null,n.a.createElement(k.c,{disabled:t.panelControlButtons.kanban_board,onClick:a.resetMainKanbanView,className:"task-priority-button"},"Kanban Board")),n.a.createElement(k.e,null,n.a.createElement(k.c,{disabled:t.panelControlButtons.priority_board,onClick:a.filterPriorityTasks,className:"task-priority-button"},"Priority Tasks")))),t.serverNote?n.a.createElement(k.f,{className:"server-notification"},n.a.createElement(k.q,{center:!0},n.a.createElement(k.e,null,n.a.createElement(K,{serverNote:t.serverNote,resetServerNotes:a.resetServerNotes})))):null,t.panelControlButtons.kanban_board&&!t.panelControlButtons.priority_board?n.a.createElement(J,Object.assign({boardMessage:t.boardMessage,handleFindForEditTaskModal:a.findTaskForEdit},t,a)):n.a.createElement(z,Object.assign({boardMessage:t.boardMessage,handleFindForEditTaskModal:a.findTaskForEdit},t,a)))},Y=(a(170),a(171),a(172),a(76)),G=a.n(Y),V=a(50),U=a.n(V),W=(a(274),function(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!==typeof e)return!0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}),Z=function(e,t,a){var r=e[t];return e[t]=e[a],e[a]=r,e},$=function(e,t,a){var r=/^[0-9A-Za-z\s]+$/,n=/^[a-zA-Z]+$/;switch(e){case"board_order":return{errors:isNaN(t)||""===t?"Input must be an INTEGER!":parseInt(t)<=0?"Must be greater than zero!":parseInt(t)>a+1?"Must be less or equal ".concat(a+1,"!"):"",inputStatus:isNaN(t)||""===t||parseInt(t)<=0||parseInt(t)>a+1};case"board_title":return{errors:t.match(r)?t.length>10?"This title is too long":"":"Please, input alphanumeric characters only!",inputStatus:!t.match(r)||t.length>10};case"task_title":return{errors:t.match(r)?t.length>13?"This title is too long":"":"Please, input alphanumeric characters only!",inputStatus:!t.match(r)||t.length>13};case"task_description":return{errors:t.length>=100?"Description must be less than 100 characters":"",inputStatus:t.length>=100};case"first":return{errors:t.match(n)?t.length<3?"First name is too short":"":"Please, input alphabetical characters only!",inputStatus:!t.match(n)||t.length<3};case"last":return{errors:t.match(n)?t.length<3?"Last name is too short":"":"Please, input alphabetical characters only!",inputStatus:!t.match(n)||t.length<3};default:return{errors:"",inputStatus:!1}}},Q=[{priority_level:"high",id:G()(),order:0,tasks:[]},{priority_level:"low",order:1,id:G()(),tasks:[]}],X={boardTitleError:{errors:"",inputStatus:!1},taskTitleError:{errors:"",inputStatus:!1},boardOrderError:{errors:"",inputStatus:!1},taskDescriptionError:{errors:"",inputStatus:!1},firstNameError:{errors:"",inputStatus:!1},lastNameError:{errors:"",inputStatus:!1}},ee="https://rest-api-server-kanban.herokuapp.com";var te=function(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),a=t[0],o=t[1],s=Object(r.useState)(!0),i=Object(f.a)(s,2),c=i[0],b=i[1],p=Object(r.useState)([]),g=Object(f.a)(p,2),k=g[0],h=g[1],E=Object(r.useState)(!1),O=Object(f.a)(E,2),y=O[0],v=O[1],j=Object(r.useState)(X),T=Object(f.a)(j,2),N=T[0],S=T[1],w=Object(r.useState)([]),_=Object(f.a)(w,2),C=_[0],B=_[1],x=Object(r.useState)(Q),I=Object(f.a)(x,2),F=I[0],A=I[1],L=Object(r.useState)(!1),P=Object(f.a)(L,2),M=P[0],D=P[1],q=Object(r.useState)({}),J=Object(f.a)(q,2),z=J[0],H=J[1],K=Object(r.useState)({kanban_board:!0,priority_board:!1}),Y=Object(f.a)(K,2),G=Y[0],V=Y[1],te=Object(r.useState)(""),ae=Object(f.a)(te,2),re=ae[0],ne=ae[1],oe=Object(r.useRef)();Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ee,"/boards"));case 2:e.sent.json().then((function(e){h(e.boards.map((function(e){return{id:e._id,order:e.order,name:e.name,title:e.title,tasks:e.tasks.map((function(e){return{id:e._id,visibility:!0,task_title:e.title,location:e.location,task_description:e.description,task_priority:e.priority,board:e.board,first:e.first,last:e.last}}))}}))),b(!1),h((function(e){return e.sort((function(e,t){return e.order-t.order}))})),B(Object(u.a)(Array(e.boards.length).keys()))})).catch((function(e){return console.log(e)})),ne("");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(){return console.log("Successfully rendered!")})).catch((function(){return console.log("Rendering failed")}));var t=JSON.parse(localStorage.getItem("login"));t&&t.token&&(!function(e){if(e.token&&U.a.decode(e.token)){var t=new Date;return e.expiryDate<t.getTime()}return!1}(t)?v(!0):(console.log("Your login session expired!"),v(!1),localStorage.clear()))}),[]);var se=function(e){var t=e.target.id,a=e.target.getAttribute("name"),r=e.target.getAttribute("priority_level");A((function(e){return Object(u.a)(e).map((function(e){if(e.priority_level===r){var n=e.tasks.findIndex((function(e){return e.id===t})),o=Z(e.tasks,n,"up"===a?n-1:n+1);return Object(l.a)({},e,{tasks:o})}return e}))}))},ie=function(e){var t,a=e.target.getAttribute("id"),r=e.target.getAttribute("name"),n=e.target.getAttribute("class").split(" ")[0],o=e.target.getAttribute("location"),s=e.target.getAttribute("priority_level");t="show"===n,"kanban_board"===o?h((function(e){return e.map((function(e){return e.name===r?Object(l.a)({},e,{tasks:e.tasks.map((function(e){return e.id===a?Object(l.a)({},e,{visibility:t}):e}))}):e}))})):A((function(e){return e.map((function(e){return e.priority_level===s?Object(l.a)({},e,{tasks:e.tasks.map((function(e){return e.id===a?Object(l.a)({},e,{visibility:t}):e}))}):e}))}))},le={insertBoard:function(e){var t=e.order-1;if(console.log(e),!W(e)){var a="Bearer "+JSON.parse(localStorage.getItem("login")).token;fetch("".concat(ee,"/boards"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify(Object(l.a)({},e,{order:t,name:e.title.toLowerCase()}))}).then((function(e){return e.json()})).then((function(e){var a=e.createdBoard;if(a)return console.log("NOTE: ",e.message),h((function(e){return[].concat(Object(u.a)(e.slice(0,t)),[Object.assign({},Object(l.a)({},a,{order:t}))],Object(u.a)(e.slice(t)))})),h((function(e){return e.map((function(e,t){return e.order<=t?Object(l.a)({},e,{order:t}):Object(l.a)({},e,{order:t+1})}))})),B((function(e){return Object(u.a)(e).concat(e.length)})),[].concat(Object(u.a)(oe.current.slice(0,t)),[Object.assign({},{id:a.id,order:a.order,name:a.name})],Object(u.a)(oe.current.slice(t))).map((function(e,t){return e.order<=t?Object(l.a)({},e,{order:t}):Object(l.a)({},e,{order:t+1})}));throw new Error("Your login session is expired or you do not have a permission to perform this operation!")})).then((function(e){fetch("".concat(ee,"/boards"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log("NOTE: ",e.message)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},addBoard:function(e){if(console.log(e),!W(e)){var t="Bearer "+JSON.parse(localStorage.getItem("login")).token;fetch("".concat(ee,"/boards"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify(Object(l.a)({},e,{order:e.order,name:e.title.toLowerCase()}))}).then((function(e){return e.json()})).then((function(e){var t=e.createdBoard;if(t)return console.log("NOTE: ",e.message),ne(e.message),h((function(e){return[].concat(Object(u.a)(e.slice(0,t.order)),[Object.assign({},Object(l.a)({},t,{order:t.order}))],Object(u.a)(e.slice(t.order)))})),h((function(e){return e.map((function(e,t){return e.order<=t?Object(l.a)({},e,{order:t}):Object(l.a)({},e,{order:t+1})}))})),B((function(e){return Object(u.a)(e).concat(e.length)})),[].concat(Object(u.a)(oe.current.slice(0,t.order)),[Object.assign({},{id:t.id,order:t.order,name:t.name})],Object(u.a)(oe.current.slice(t.order))).map((function(e,t){return e.order<=t?Object(l.a)({},e,{order:t}):Object(l.a)({},e,{order:t+1})}));throw new Error("Your login session is expired or you do not have a permission to perform this operation!")})).then((function(e){fetch("".concat(ee,"/boards"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log("NOTE: ",e.message)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},createTask:function(e){var t="Bearer "+JSON.parse(localStorage.getItem("login")).token;!0!==W(e)?fetch("".concat(ee,"/tasks"),{method:"POST",headers:{Authorization:t,"Content-Type":"application/json"},body:JSON.stringify(Object(l.a)({},e,{board:"todo"}))}).then((function(e){return e.json()})).then((function(e){if(e.err)throw new Error("Your login session is expired or you do not have a permission to perform this action...");var t=e.createdTask;console.log("NOTE: ",e.message),h((function(e){return e.map((function(e){return e.name===t.board?Object(l.a)({},e,{tasks:e.tasks.concat({id:t._id,visibility:!0,task_title:t.title,location:t.location,task_description:t.description,task_priority:t.priority,board:t.board,first:t.first,last:t.last})}):e}))}))})).catch((function(e){return console.log(e)})):o("This list is empty")},moveTask:function(e){var t,a=e.target.getAttribute("id"),r=e.target.getAttribute("direction"),n=e.target.getAttribute("order"),o=e.target.getAttribute("location"),s="true"===e.target.getAttribute("task_priority");t="kanban_board"===o?k.find((function(e){return e.order===parseInt(n)})).tasks.find((function(e){return e.id===a})):F.find((function(e){return e.order===parseInt(n)})).tasks.find((function(e){return e.id===a})),"kanban_board"===o?h((function(e){return e.map((function(e){return e.order===parseInt(n)?Object(l.a)({},e,{tasks:e.tasks.filter((function(e){return e.id!==a}))}):e}))})):A((function(e){return e.map((function(e){return e.order===parseInt(n)?Object(l.a)({},e,{tasks:e.tasks.filter((function(e){return e.id!==a}))}):e}))})),"kanban_board"===o?h("right"===r?function(e){return e.map((function(e){return e.order===parseInt(n)+1?Object(l.a)({},e,{tasks:e.tasks.concat(Object(l.a)({},t,{board:e.name}))}):e}))}:function(e){return e.map((function(e){return e.order===parseInt(n)-1?Object(l.a)({},e,{tasks:e.tasks.concat(Object(l.a)({},t,{board:e.name}))}):e}))}):A("right"===r?function(e){return e.map((function(e){return e.order===parseInt(n)+1?Object(l.a)({},e,{tasks:e.tasks.concat(Object(l.a)({},t,{priority_level:e.priority_level,task_priority:!1}))}):e}))}:function(e){return e.map((function(e){return e.order===parseInt(n)-1?Object(l.a)({},e,{tasks:e.tasks.concat(Object(l.a)({},t,{priority_level:e.priority_level,task_priority:!0}))}):e}))}),"priority_list"===t.location&&h((function(e){return Object(u.a)(e).map((function(e){return e.name===t.board?Object(l.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object(l.a)({},e,{task_priority:!s}):e}))}):e}))})),"kanban_board"===o&&fetch("".concat(ee,"/boards/").concat(a),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({moveOutBoard:+n,moveInBoard:"left"===r?+n-1:+n+1})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))},dragTask:function(e,t,a){var r=oe.current.find((function(e){return e.name===t})).tasks.find((function(e){return e.id===a}));h((function(r){return r.map((function(r){return r.name===t&&null!==e?Object(l.a)({},r,{tasks:r.tasks.filter((function(e){return e.id!==a}))}):r}))})),h((function(t){return t.map((function(t){return t.name===e?Object(l.a)({},t,{tasks:t.tasks.concat(Object(l.a)({},r,{board:t.name}))}):t}))})),fetch("".concat(ee,"/boards/").concat(a),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({moveOutBoard:+oe.current.find((function(e){return e.name===t})).order,moveInBoard:+oe.current.find((function(t){return t.name===e})).order})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))},deleteTask:function(e){var t="Bearer "+JSON.parse(localStorage.getItem("login")).token;fetch("".concat(ee,"/tasks/").concat(e.target.id),{method:"DELETE",headers:{Authorization:t,"Content-Type":"application/json"},body:JSON.stringify({id:e.target.id,board:e.target.getAttribute("name"),title:e.target.getAttribute("title")})}).then((function(e){return e.json()})).then((function(e){if(console.log(e.message),e.err)throw new Error("Your login session is expired or you do not have a permission to perform this operation!");var t=e.deletedTask,a=t.id,r=t.board_name;h((function(e){return e.map((function(e){return e.name===r?Object(l.a)({},e,{tasks:e.tasks.filter((function(e){return e.id!==a}))}):e}))}))})).catch((function(e){console.log(e)})),F.length>0&&A(F.filter((function(t){return t.id!==e.target.id})))},hideTask:ie,showTask:ie,submitNewTaskItems:function(e){fetch("".concat(ee,"/tasks/").concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var t=e.updatedTask;h((function(e){return e.map((function(e){return e.name===t.board?Object(l.a)({},e,{tasks:e.tasks.map((function(e){return e.id===t.id?Object(l.a)({},e,{},t):e}))}):e}))}))})).catch((function(e){console.log(e)}))},deleteBoard:function(e){var t="Bearer "+JSON.parse(localStorage.getItem("login")).token,a=oe.current.filter((function(t){return t.id!==e.target.id})).map((function(e,t){return Object(l.a)({},e,{order:t})}));fetch("".concat(ee,"/boards/").concat(e.target.id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e,t){if(console.log("NOTE: ",e.message),t)throw new Error("Your login session is expired or you do not have a permission to perform this operation!");var a=e.deletedBoard;h((function(e){return e.filter((function(e){return e.id!==a}))}))})).catch((function(e){console.log(e)})),h((function(e){return e.map((function(e,t){return Object(l.a)({},e,{order:t})}))})),B((function(e){return Object(u.a)(e).filter((function(e){return e!==k.length-1}))}))},validateInput:function(e,t){"board_order"===t&&S((function(a){return Object(l.a)({},a,{boardOrderError:$(t,e,k.length)})})),"board_title"===t&&S((function(a){return Object(l.a)({},a,{boardTitleError:$(t,e,k.length)})})),"task_title"===t&&S((function(a){return Object(l.a)({},a,{taskTitleError:$(t,e,k.length)})})),"task_description"===t&&S((function(a){return Object(l.a)({},a,{taskDescriptionError:$(t,e,k.length)})})),"first"===t&&S((function(a){return Object(l.a)({},a,{firstNameError:$(t,e,k.length)})})),"last"===t&&S((function(a){return Object(l.a)({},a,{lastNameError:$(t,e,k.length)})}))},resetErrors:function(){return S(X)},setBoardOrderState:function(e){oe.current=e},userLoginAuth:function(e){fetch("".concat(ee,"/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json().then((function(e){if(console.warn("result",e),e.token){var t=new Date;localStorage.setItem("login",JSON.stringify({login:!0,token:e.token,birthDate:t.getTime(),tokenLife:1e3*U.a.decode(e.token).exp-t.getTime(),expiryDate:1e3*U.a.decode(e.token).exp}))}else localStorage.setItem("login",JSON.stringify({login:!1,error:{message:e.message,description:e.description}}));var a=JSON.parse(localStorage.getItem("login"));a&&a.token&&v(!0)}))})).catch((function(){return console.log("error occurred")}))},resetServerNotes:function(){console.log("Reset")},swapTasks:{swapKanbanTasks:function(e){var t=e.target.id,a=e.target.getAttribute("name"),r=e.target.getAttribute("board");h((function(e){return Object(u.a)(e).map((function(e){if(e.name===r){var n=e.tasks.findIndex((function(e){return e.id===t})),o=Z(e.tasks,n,"up"===a?n-1:n+1);return Object(l.a)({},e,{tasks:o})}return e}))}))},swapPriorityTasks:se},swapPriorityTasks:se,filterPriorityTasks:function(){A(Q),k.map((function(e){return e.tasks.forEach((function(e){return e.task_priority?A((function(t){return t.map((function(t){return"high"===t.priority_level?Object(l.a)({},t,{tasks:t.tasks.concat(Object(l.a)({},e,{location:"priority_list",priority_level:"high"}))}):t}))})):A((function(t){return t.map((function(t){return"low"===t.priority_level?Object(l.a)({},t,{tasks:t.tasks.concat(Object(l.a)({},e,{location:"priority_list",priority_level:"low"}))}):t}))}))}))})),V({kanban_board:!1,priority_board:!0})},toggleEditModal:function(){return D(!M)},findTaskForEdit:function(e){var t=e.target.getAttribute("name"),a=e.target.id;a&&H(k.find((function(e){return e.name===t})).tasks.find((function(e){return e.id===a}))),D(!M)},resetMainKanbanView:function(){return V({kanban_board:!0,priority_board:!1})}},ce={userLogin:y,serverNote:re,boards:k,loading:c,priorityTasks:F,boardMessage:a,errors:N,boardsSchema:C,searchEditTask:z,modalButtonClick:M,panelControlButtons:G};return n.a.createElement(R,Object.assign({},le,ce))},ae=function(){return n.a.createElement("div",{className:"container"},n.a.createElement(te,null))},re={position:i.b.TOP_CENTER,timeout:5e3,offset:"20px",containerStyle:{zIndex:9999},transition:i.c.SCALE},ne=a(137);s.a.render(n.a.createElement(i.a,Object.assign({template:ne.a},re),n.a.createElement(ae,null)),document.getElementById("root"))},40:function(e,t,a){}},[[141,1,2]]]);
//# sourceMappingURL=main.8380abdd.chunk.js.map